{{/* boolean feature tags */}}
{{- $work := false -}}{{/* true if this machine is a work machine */}}
{{- $personal := false -}}{{/* true if this machine should have personal secrets */}}
{{- $wsl := false -}}

{{- $hostname := .chezmoi.hostname -}}
{{- if ($hostname | lower | contains "vancanh-ng") -}}
{{-   $work = true -}}
{{- else if ($hostname | lower | contains "canh25xp") -}}
{{-   $personal = true -}}
{{- end -}}

{{- $email := "canh25xp@gmail.com" -}}
{{- if $work -}}
{{-   $email = "vancanh-ng@samsung.com" -}}
{{- end -}}

{{- $shell := "pwsh" -}}
{{- if $work -}}
{{-   $shell = "powershell" -}}
{{- end -}}

{{- if and (eq .chezmoi.os "linux") (.chezmoi.kernel.osrelease | lower | contains "microsoft") -}}
{{-   $wsl = true -}}
{{- end -}}

format : "yaml"
progress : true

edit:
  apply : true
  watch : true

git:
  autoCommit : true
  autoPush : false

diff:
  reverse: true
{{- if eq .chezmoi.os "windows" }}
  command: "delta"
  pager : "delta"
{{- else }}
  command: "delta"
  pager : "delta"
{{- end }}

merge:
  command: "nvim"
  args:
    - -d
    - "{{ "{{" }} .Destination {{ "}}" }}"
    - "{{ "{{" }} .Source {{ "}}" }}"
    - "{{ "{{" }} .Target {{ "}}" }}"

data:
  wsl : {{ $wsl }}
  work : {{ $work }}
  personal : {{ $personal }}
  fullName : "Ngô Văn Cảnh"
  nickName : "Michael"
  email : {{ $email | quote }}
  defaultShell : {{ $shell | quote }}
  barOffset : {{ if $work -}} 70 {{- else -}} 40 {{- end }}

{{- if eq .chezmoi.os "windows" }}
cd:
  command: {{ $shell | quote }}
{{- end }}
