{{ if .work -}}
IdentityFile ~/.ssh/id_ecdsa_work
{{- else if .personal -}}
IdentityFile ~/.ssh/id_ecdsa
{{- end }}

HashKnownHosts no

Host *
  AddKeysToAgent yes
  KexAlgorithms curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256

Host desktop
  HostName {{ .desktopTailscaleIP }}
  User {{ .nickName }}

Host laptop
  HostName {{ .laptopTailscaleIP }}
  User {{ .nickName }}

Host phone
  HostName {{ .phoneTailscaleIP }}
  User {{ .phoneUserName }}
  Port 8022

Host tablet
  HostName {{ if .work -}} localhost {{- else -}} {{ .tabletTailscaleIP }} {{- end }}
  User {{ .tabletUserName }}
  Port 8022

{{- if .work }}

Host wifiteam
  HostName 192.168.23.13
  User {{ .knoxID }}

Host tablet-proxy
  HostName localhost
  User {{ .tabletUserName }}
  DynamicForward 1080
  Port 8022
  ExitOnForwardFailure yes

# Jump hosts
Host desktop-jump
  HostName {{ .desktopTailscaleIP }}
  User {{ .nickName }}
  ProxyJump tablet

Host phone-jump
  HostName {{ .phoneTailscaleIP }}
  User {{ .phoneUserName }}
  Port 8022
  ProxyJump tablet

Host wifiteam-jump
  HostName 192.168.23.13
  User "vancanh.ng"
  User {{ .knoxID }}
  ProxyJump tablet

{{- end }}

Host github.com
  HostName github.com
  PreferredAuthentications publickey

Host gitlab.com
  HostName gitlab.com
  PreferredAuthentications publickey
